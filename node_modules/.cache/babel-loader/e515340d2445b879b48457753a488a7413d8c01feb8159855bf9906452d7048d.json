{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\revan\\\\OneDrive\\\\Documents\\\\3rd Year\\\\ODD SEM\\\\Devops\\\\FREELANCE_MARKET_PLACE\\\\react-client\\\\src\\\\Components\\\\BidProjectForm.jsx\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass BidProjectForm extends Component {\n  constructor(props) {\n    super(props);\n    this.handleUserInput = e => {\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState({\n        [name]: value\n      });\n    };\n    this.state = {\n      id: 0,\n      amount: '',\n      period: '',\n      update: false\n    };\n  }\n  componentWillMount() {\n    let projectId = localStorage.getItem('currentProjectId');\n    let userId = localStorage.getItem('id');\n    let checkBidAPI = 'http://localhost:8080/getProjectBids/' + projectId;\n    var apiPayload = {\n      userId: userId,\n      projectId: projectId\n    };\n    axios.post(checkBidAPI, apiPayload).then(res => {\n      if (res.data.errorMsg != '') {\n        this.setState({\n          errorMessage: res.data.errorMsg\n        });\n      } else {\n        let bids = res.data.data;\n        bids.forEach(element => {\n          if (element.userId == userId) {\n            this.setState({\n              id: element.id,\n              amount: element.bid_amount,\n              period: element.bid_period\n            });\n          }\n        });\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n  handleSubmit(e) {\n    e.preventDefault();\n    debugger;\n    let postBidAPI = 'http://localhost:8080/postBid';\n    let id = this.state.id ? this.state.id : 0;\n    let period = this.state.period;\n    let amount = this.state.amount;\n    let projectId = localStorage.getItem('currentProjectId');\n    let userId = localStorage.getItem('id');\n    if (!period || !amount) {\n      return;\n    }\n    if (!projectId || !userId) {\n      console.log('Project/Employee ID not found');\n      return;\n    }\n    var apiPayload;\n    if (id == 0) {\n      apiPayload = {\n        userId: userId,\n        projectId: projectId,\n        bid_period: period,\n        bid_amount: amount\n      };\n    } else {\n      apiPayload = {\n        id: id,\n        userId: userId,\n        projectId: projectId,\n        bid_period: period,\n        bid_amount: amount\n      };\n    }\n    axios.post(postBidAPI, apiPayload).then(res => {\n      if (res.data.errorMsg != '') {\n        this.setState({\n          errorMessage: res.data.errorMsg\n        });\n      } else {\n        this.setState({\n          errorMessage: ''\n        });\n        swal({\n          type: 'success',\n          title: 'Post Bid',\n          text: res.data.successMsg\n        });\n        setTimeout(function () {\n          window.location.href = 'http://localhost:3000/projectitem';\n        }, 5000);\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n  renderRows() {\n    if (this.state.errorMessage != '') {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        class: \"text-danger\",\n        children: this.state.errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this);\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center divclasscenter\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form-signup\",\n        method: \"POST\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"h3 mb-3 font-weight-normal\",\n          children: \"Enter Bid Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel panel-default\",\n          children: this.renderRows()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"amount\",\n          className: \"form-control\",\n          placeholder: \"Amount in $\",\n          required: \"\",\n          autoFocus: \"\",\n          value: this.state.amount,\n          onChange: this.handleUserInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 110\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"period\",\n          className: \"form-control\",\n          placeholder: \"Period in days\",\n          value: this.state.period,\n          onChange: this.handleUserInput,\n          required: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 97\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-lg btn-success\",\n          type: \"submit\",\n          onClick: this.handleSubmit.bind(this),\n          children: \"Submit Bid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default _c = withRouter(BidProjectForm);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","withRouter","axios","swal","jsxDEV","_jsxDEV","BidProjectForm","constructor","props","handleUserInput","e","name","target","value","setState","state","id","amount","period","update","componentWillMount","projectId","localStorage","getItem","userId","checkBidAPI","apiPayload","post","then","res","data","errorMsg","errorMessage","bids","forEach","element","bid_amount","bid_period","catch","err","console","error","handleSubmit","preventDefault","postBidAPI","log","type","title","text","successMsg","setTimeout","window","location","href","renderRows","class","children","fileName","_jsxFileName","lineNumber","columnNumber","render","className","method","placeholder","required","autoFocus","onChange","onClick","bind","_c","$RefreshReg$"],"sources":["C:/Users/revan/OneDrive/Documents/3rd Year/ODD SEM/Devops/FREELANCE_MARKET_PLACE/react-client/src/Components/BidProjectForm.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom'\nimport axios from 'axios';\nimport swal from 'sweetalert2'\n\nclass BidProjectForm extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            id:0,\n            amount: '',\n            period: '',\n            update:false\n\n        }\n    }\n    componentWillMount(){\n        let projectId = localStorage.getItem('currentProjectId');\n        let userId = localStorage.getItem('id');\n        let checkBidAPI = 'http://localhost:8080/getProjectBids/'+projectId;\n\n        var apiPayload = {userId: userId, projectId: projectId};\n        axios.post(checkBidAPI, apiPayload)\n            .then(res => {\n                if (res.data.errorMsg != '') {\n                    this.setState({\n                        errorMessage: res.data.errorMsg\n                    });\n                } else {\n                    let bids = res.data.data;\n                    bids.forEach(element => {\n                        if(element.userId==userId){\n                            this.setState({\n                                id:element.id,\n                                amount: element.bid_amount,\n                                period: element.bid_period \n                            });\n                        }                            \n                    });\n                }\n            })\n            .catch(err => {\n                console.error(err);\n            });\n    }\n\n    handleUserInput = (e) => {\n        const name = e.target.name;\n        const value = e.target.value;\n        this.setState({ [name]: value });\n    }\n    handleSubmit(e) {\n        e.preventDefault();\n        debugger\n        let postBidAPI = 'http://localhost:8080/postBid';\n        let id = this.state.id?this.state.id:0;\n        let period = this.state.period;\n        let amount = this.state.amount;\n        let projectId = localStorage.getItem('currentProjectId');\n        let userId = localStorage.getItem('id');\n        if (!period || !amount) {\n            return;\n        }\n        if (!projectId || !userId) {\n            console.log('Project/Employee ID not found');\n            return;\n        }\n        var apiPayload;\n        if(id==0){\n            apiPayload = {userId: userId, projectId: projectId, bid_period: period, bid_amount: amount };\n        }else{\n            apiPayload = { id:id,userId: userId, projectId: projectId, bid_period: period, bid_amount: amount };\n        }\n        \n        \n        axios.post(postBidAPI, apiPayload)\n            .then(res => {\n                if (res.data.errorMsg != '') {\n                    this.setState({\n                        errorMessage: res.data.errorMsg\n                    });\n                } else {\n                    this.setState({\n                        errorMessage: ''\n                    });\n                    swal({\n                        type: 'success',\n                        title: 'Post Bid',\n                        text: res.data.successMsg,\n                      })\n                      setTimeout(function () {\n                        window.location.href='http://localhost:3000/projectitem'\n                    }, 5000);\n                      \n                }\n            })\n            .catch(err => {\n                console.error(err);\n            });\n    }\n    renderRows() {\n        if (this.state.errorMessage != '') {\n            return (\n                <p class=\"text-danger\" >{this.state.errorMessage}</p>\n            );\n        }\n    }\n    render() {\n        return (\n            <div className=\"text-center divclasscenter\"  >\n                <form className=\"form-signup\" method=\"POST\">\n                    <h1 className=\"h3 mb-3 font-weight-normal\">Enter Bid Details</h1>\n                    <div className=\"panel panel-default\">\n                        {this.renderRows()}\n                    </div>\n                    <input type=\"number\" name='amount' className=\"form-control\" placeholder=\"Amount in $\"\n                        required=\"\" autoFocus=\"\" value={this.state.amount} onChange={this.handleUserInput} /><br />\n                    <input type=\"number\" name='period' className=\"form-control\" placeholder=\"Period in days\"\n                        value={this.state.period} onChange={this.handleUserInput} required=\"\" /><br />\n                    <button className=\"btn btn-lg btn-success\" type=\"submit\"\n                        onClick={this.handleSubmit.bind(this)} >Submit Bid</button>\n                    <div className=\"modal-footer\">\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}\nexport default withRouter(BidProjectForm);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}