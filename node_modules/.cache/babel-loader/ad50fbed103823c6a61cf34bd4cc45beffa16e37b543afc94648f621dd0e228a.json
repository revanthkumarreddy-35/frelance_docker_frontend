{"ast":null,"code":"import React,{Component}from'react';import Header from'./Header';import Footer from'./Footer';import Table from'./Table';import{withRouter}from'react-router-dom';import axios from'axios';import swal from'sweetalert2';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class Dashboard extends Component{constructor(props){super(props);this.state={action:'dashboard',tableHeaderData:['Title','Employer','Avg Bid','My Bid','Status'],tableRowData:[]};}componentWillMount(){let url='http://localhost:8080/isLoggedIn';axios.get(url,{withCredentials:true}).then(res=>{debugger;if(res.data.errorMsg===\"\"){localStorage.setItem('id',res.data.data.id);localStorage.setItem('name',res.data.data.name);localStorage.setItem('email',res.data.data.email);let getUserBidProjects='http://localhost:8080/getUserBidProjects';let id=localStorage.getItem('id');if(id){var apiPayload={id:id};axios.post(getUserBidProjects,apiPayload,{withCredentials:true}).then(res=>{// eslint-disable-next-line\nif(res.data.errorMsg!=''){this.setState({errorMessage:res.data.errorMsg});// eslint-disable-next-line\n}else if(res.data.successMsg!=''){this.setState({tableRowData:res.data.data});}else{this.setState({errorMessage:'Unknown error occurred'});}}).catch(err=>{console.error(err);});}}else{this.props.history.push('/login');swal({type:'error',title:'Login',text:'Login Required'});}}).catch(err=>{console.error(err);});}onBackButtonEvent(e){e.preventDefault();this.props.history.push('/home');}componentDidMount(){window.onpopstate=this.onBackButtonEvent.bind(this);}render(){return/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsx(Header,{dashboard:'linkActive'}),/*#__PURE__*/_jsxs(\"div\",{class:\"content-wrapper mt-1\",children:[/*#__PURE__*/_jsxs(\"ol\",{class:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"li\",{class:\"breadcrumb-item\",children:/*#__PURE__*/_jsx(\"a\",{href:\"index.html\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{class:\"breadcrumb-item active\",children:\"My Bids\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"row mt-1\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-15\",children:[/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-11 container\",children:/*#__PURE__*/_jsx(\"div\",{class:\"\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Table,{action:this.state.action,tableHeaderData:this.state.tableHeaderData,averageBid:this.state.averageBid,tableRowData:this.state.tableRowData})})})})]})}),/*#__PURE__*/_jsx(Footer,{}),\"                 \"]})]});}}export default withRouter(Dashboard);","map":{"version":3,"names":["React","Component","Header","Footer","Table","withRouter","axios","swal","jsx","_jsx","jsxs","_jsxs","Dashboard","constructor","props","state","action","tableHeaderData","tableRowData","componentWillMount","url","get","withCredentials","then","res","data","errorMsg","localStorage","setItem","id","name","email","getUserBidProjects","getItem","apiPayload","post","setState","errorMessage","successMsg","catch","err","console","error","history","push","type","title","text","onBackButtonEvent","e","preventDefault","componentDidMount","window","onpopstate","bind","render","class","children","dashboard","href","averageBid"],"sources":["C:/Users/revan/OneDrive/Documents/3rd Year/ODD SEM/Devops/FREELANCE_MARKET_PLACE/react-client - Copy/src/Components/Dashboard.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport Header from './Header'\nimport Footer from './Footer'\nimport Table from './Table'\nimport { withRouter } from 'react-router-dom'\nimport axios from 'axios'\nimport swal from 'sweetalert2'\n\nclass Dashboard extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            action: 'dashboard',\n            tableHeaderData: ['Title', 'Employer', 'Avg Bid', 'My Bid', 'Status'],\n            tableRowData: []\n        };\n    } \n    componentWillMount() {\n\n        let url = 'http://localhost:8080/isLoggedIn';\n        axios.get(url,{withCredentials: true})\n            .then(res => {\n                debugger\n                \n                if (res.data.errorMsg === \"\") {\n                    localStorage.setItem('id', res.data.data.id);\n                    localStorage.setItem('name', res.data.data.name);\n                    localStorage.setItem('email', res.data.data.email);\n                    let getUserBidProjects = 'http://localhost:8080/getUserBidProjects';\n                    let id = localStorage.getItem('id');\n                    if (id) {\n                        var apiPayload = {\n                            id: id\n                        };\n                        axios.post(getUserBidProjects, apiPayload,{withCredentials: true})\n                            .then(res => {\n                                // eslint-disable-next-line\n                                if (res.data.errorMsg != '') {\n                                    this.setState({\n                                        errorMessage: res.data.errorMsg\n                                    });\n                                    // eslint-disable-next-line\n                                } else if (res.data.successMsg != '') {\n                                    this.setState({\n                                        tableRowData: res.data.data,\n                                    });\n                                } else {\n                                    this.setState({\n                                        errorMessage: 'Unknown error occurred'\n                                    });\n                                }\n                            })\n                            .catch(err => {\n                                console.error(err);\n                            });\n                    }                    \n                }\n                else {\n                    this.props.history.push('/login')\n                    swal({\n                        type: 'error',\n                        title: 'Login',\n                        text: 'Login Required',\n                      })\n                    \n                }\n            })\n            .catch(err => {\n                console.error(err);\n            });\n    \n\n\n    }\n    onBackButtonEvent(e) {\n        e.preventDefault();\n        this.props.history.push('/home');\n    }\n\n    componentDidMount() {\n        window.onpopstate = this.onBackButtonEvent.bind(this);\n    }\n\n    render() {\n        return (\n            <div class='container'>\n                <Header dashboard={'linkActive'}/>\n                <div class=\"content-wrapper mt-1\">\n                    <ol class=\"breadcrumb\">\n                        <li class=\"breadcrumb-item\">\n                            <a href=\"index.html\">Dashboard</a>\n                        </li>\n                        <li class=\"breadcrumb-item active\">My Bids</li>\n                    </ol>\n                    <div class=\"row mt-1\">\n                        <div class=\"col-15\">\n                            <p></p>\n                            <div class=\"col-lg-11 container\">\n                                <div class=\"\">\n                                    <div>\n                                        <Table action={this.state.action} tableHeaderData={this.state.tableHeaderData} averageBid={this.state.averageBid} tableRowData={this.state.tableRowData} />\n\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n\n                    {<Footer />}                 </div>\n            </div>\n\n\n        );\n    }\n}\nexport default withRouter(Dashboard);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}