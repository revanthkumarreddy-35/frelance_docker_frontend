{"ast":null,"code":"import React,{Component}from'react';import axios from'axios';import swal from'sweetalert2';import{withRouter}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class ProjectBidDetail extends Component{constructor(props){super(props);this.hireEmployer=e=>{let hireEmployerAPI='http://localhost:8080/hireFreelancer';let projectId=localStorage.getItem('currentProjectId');var str=e.target.id;var res=str.split(\"/\");let freelancerId=res[0];var endDate=new Date(new Date().getTime()+res[1]*24*60*60*1000);if(!projectId||!freelancerId){console.log('Project/Employee ID not found');return;}var apiPayload={freelancerId:freelancerId,projectId:projectId,endDate:endDate.toDateString()};axios.post(hireEmployerAPI,apiPayload).then(res=>{if(res.data.errorMsg!=''){this.setState({errorMessage:res.data.errorMsg});}else{this.setState({errorMessage:''});this.props.history.push('/myprojects');swal({type:'success',title:'Hire',text:'Employee Hired'});setTimeout(function(){window.location.href='http://localhost:3000/myprojects';},5000);}}).catch(err=>{console.error(err);});};this.state={projectBids:[]};}componentWillMount(){let id=localStorage.getItem('currentProjectId');let getBidsAPI='http://localhost:8080/getProjectBids/'+id;let currentUserId=localStorage.getItem('id');if(id){var apiPayload={id:id,currentUserId:currentUserId};axios.post(getBidsAPI,apiPayload).then(res=>{if(res.data.errorMsg!==''){this.setState({errorMessage:res.data.errorMsg});}else if(res.data.successMsg!==''){this.setState({projectBids:res.data.data});}else{this.setState({errorMessage:'Unknown error occurred'});}}).catch(err=>{console.error(err);});}}renderImage(id,profile_id){if(!profile_id){return/*#__PURE__*/_jsx(\"img\",{class:\"card-img-right flex-auto d-none d-md-block\",alt:\"Thumbnail [200x250]\",width:\"200px\",height:\"200px\",src:require('../images/freelancer_32_32.png'),\"data-holder-rendered\":\"true\"});}else{var imageSource=require('../images/'+id+'.png');return/*#__PURE__*/_jsx(\"img\",{class:\"card-img-right flex-auto d-none d-md-block\",alt:\"Thumbnail [200x250]\",width:\"200px\",height:\"200px\",src:imageSource,\"data-holder-rendered\":\"true\"});}}getProfileName(userId){let getprofileAPI='http://localhost:8080/getprofile';var apiPayload={id:userId};axios.post(getprofileAPI,apiPayload).then(res=>{// eslint-disable-next-line\nif(res.data.errorMsg!=''){this.setState({errorMessage:res.data.errorMsg});return\"Madhukar\";}else if(res.data.successMsg!=''){return res.data.data.name;}else{return\"Madhukar\";this.setState({errorMessage:'Unknown error occurred'});}}).catch(err=>{console.error(err);});}render(){let projectBids=this.state.projectBids.map(bid=>{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"card flex-md-row mb-8 box-shadow h-md-300\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"card-body d-flex flex-column align-items-start \",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\" \",/*#__PURE__*/_jsx(\"strong\",{class:\"d-inline-block mb-1 text-primary\",children:bid.userName})]}),/*#__PURE__*/_jsx(\"div\",{class:\"mb-1\",children:/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsxs(\"p\",{class:\"card-text mb-auto text-muted\",children:[\"Days : \",bid.bid_period]})})}),/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsxs(\"p\",{class:\"card-text mb-auto text-muted\",children:[\"Bid : $ \",bid.bid_amount]})}),localStorage.getItem('hireFlag')=='true'?/*#__PURE__*/_jsxs(\"button\",{type:\"button\",id:bid.userId+'/'+bid.bid_period,onClick:this.hireEmployer,class:\"btn btn-primary\",children:[\"Hire \",bid.name]}):/*#__PURE__*/_jsx(\"div\",{})]}),this.renderImage(bid.userId,bid.profile_id)]}),/*#__PURE__*/_jsx(\"br\",{})]});});return/*#__PURE__*/_jsx(\"div\",{class:\"col-md-8 mt-5\",children:projectBids});}}export default withRouter(ProjectBidDetail);","map":{"version":3,"names":["React","Component","axios","swal","withRouter","jsx","_jsx","jsxs","_jsxs","ProjectBidDetail","constructor","props","hireEmployer","e","hireEmployerAPI","projectId","localStorage","getItem","str","target","id","res","split","freelancerId","endDate","Date","getTime","console","log","apiPayload","toDateString","post","then","data","errorMsg","setState","errorMessage","history","push","type","title","text","setTimeout","window","location","href","catch","err","error","state","projectBids","componentWillMount","getBidsAPI","currentUserId","successMsg","renderImage","profile_id","class","alt","width","height","src","require","imageSource","getProfileName","userId","getprofileAPI","name","render","map","bid","children","userName","bid_period","bid_amount","onClick"],"sources":["C:/Users/revan/OneDrive/Documents/3rd Year/ODD SEM/Devops/FREELANCE_MARKET_PLACE/react-client - Copy/src/Components/ProjectBidDetail.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nimport swal from 'sweetalert2'\nimport { withRouter } from 'react-router-dom'\n\nclass ProjectBidDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      projectBids: [],\n    }\n  }\n  componentWillMount() {\n    let id = localStorage.getItem('currentProjectId');\n    let getBidsAPI = 'http://localhost:8080/getProjectBids/'+id;\n    let currentUserId = localStorage.getItem('id');\n    if (id) {\n      var apiPayload = {\n        id: id,\n        currentUserId: currentUserId\n      };\n      axios.post(getBidsAPI, apiPayload)\n        .then(res => {\n          if (res.data.errorMsg !== '') {\n            this.setState({\n              errorMessage: res.data.errorMsg\n            });\n          } else if (res.data.successMsg !== '') {\n            this.setState({\n              projectBids: res.data.data\n            });\n\n          } else {\n            this.setState({\n              errorMessage: 'Unknown error occurred'\n            });\n          }\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }\n\n  renderImage(id, profile_id) {\n    if (!profile_id) {\n      return <img class=\"card-img-right flex-auto d-none d-md-block\" alt=\"Thumbnail [200x250]\"\n        width='200px' height='200px'\n        src={require('../images/freelancer_32_32.png')} data-holder-rendered=\"true\" />;\n    } else {\n      var imageSource = require('../images/' + id + '.png');\n      return <img class=\"card-img-right flex-auto d-none d-md-block\" alt=\"Thumbnail [200x250]\"\n        width='200px' height='200px'\n        src={imageSource} data-holder-rendered=\"true\" />;\n    }\n\n  }\n\n  hireEmployer = (e) => {\n    let hireEmployerAPI = 'http://localhost:8080/hireFreelancer';\n    let projectId = localStorage.getItem('currentProjectId');\n    var str = e.target.id;\n    var res = str.split(\"/\");\n    let freelancerId = res[0];\n    var endDate = new Date(new Date().getTime() + (res[1] * 24 * 60 * 60 * 1000));\n    if (!projectId || !freelancerId) {\n      console.log('Project/Employee ID not found');\n      return;\n    }\n    var apiPayload = { freelancerId: freelancerId, projectId: projectId, endDate: endDate.toDateString() };\n    axios.post(hireEmployerAPI, apiPayload)\n      .then(res => {\n        if (res.data.errorMsg != '') {\n          this.setState({\n            errorMessage: res.data.errorMsg\n          });\n        } else {\n          this.setState({\n            errorMessage: ''\n          });\n          this.props.history.push('/myprojects');\n          swal({\n            type: 'success',\n            title: 'Hire',\n            text: 'Employee Hired',\n          })\n          setTimeout(function () {\n            window.location.href='http://localhost:3000/myprojects'\n        }, 5000);        \n        }\n      })\n      .catch(err => {\n        console.error(err);\n      });\n  }\n\n\n  getProfileName(userId){\n    let getprofileAPI = 'http://localhost:8080/getprofile';\n    var apiPayload = {\n        id: userId\n    };\n    axios.post(getprofileAPI, apiPayload)\n        .then(res => {\n            // eslint-disable-next-line\n            if (res.data.errorMsg != '') {\n                this.setState({\n                    errorMessage: res.data.errorMsg\n                });\n                return \"Madhukar\";\n            } else if (res.data.successMsg != '') {\n                return res.data.data.name;\n            } else {\n              return \"Madhukar\";\n                this.setState({\n                    errorMessage: 'Unknown error occurred'\n                });\n            }\n        })\n        .catch(err => {\n            console.error(err);\n        });\n\n  }\n  render() {\n\n    let projectBids = this.state.projectBids.map(bid => {\n      return (\n        <div>\n          <div class=\"card flex-md-row mb-8 box-shadow h-md-300\">\n            <div class=\"card-body d-flex flex-column align-items-start \">\n              <h3> <strong class=\"d-inline-block mb-1 text-primary\">{bid.userName}</strong></h3>\n\n              <div class=\"mb-1\"><strong><p class=\"card-text mb-auto text-muted\">Days : {bid.bid_period}</p></strong></div>\n              <strong><p class=\"card-text mb-auto text-muted\">Bid : $ {bid.bid_amount}</p></strong>\n              {localStorage.getItem('hireFlag') == 'true' ?\n                <button type=\"button\" id={bid.userId + '/' + bid.bid_period} onClick={this.hireEmployer} class=\"btn btn-primary\">Hire {bid.name}</button>\n                : <div />}\n            </div>\n            {this.renderImage(bid.userId, bid.profile_id)}\n\n          </div><br /></div>)\n    })\n    return (\n      <div class=\"col-md-8 mt-5\">\n        {projectBids}\n      </div>\n\n    );\n  }\n}\nexport default withRouter(ProjectBidDetail);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}